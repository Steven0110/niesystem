<!DOCTYPE html>
<html lang="en">
<head profile="http://www.w3.org/2005/10/profile">
    <meta charset="UTF-8">

    <!-- Tools and plugins -->

    <!-- JQuery -->
    <script src="plugins/jquery-3.1.1.min.js"></script>
    <script src="plugins/jquery-cookie/jquery.cookie.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="plugins/bootstrap/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="plugins/bootstrap/css/bootstrap.min.css">
    <script src="plugins/bootstrap/js/bootstrap.min.js"></script>

    <!-- Date Dropper -->
    <link rel="stylesheet" href="plugins/datedropper/datedropper.min.css">
    <script src="plugins/datedropper/datedropper.min.js"></script>

    <!-- Sweet Alert -->
    <link rel="stylesheet" href="plugins/sweetalert/sweetalert.css">
    <script src="plugins/sweetalert/sweetalert.min.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="plugins/font-awesome/css/font-awesome.min.css">

    <!-- Custom files -->
    <script src="js/tec-controller.js"></script>
    <link rel="stylesheet" href="css/snippets.css" />
    <link rel="stylesheet" href="css/blocks.css" />
    <link rel="stylesheet" href="css/buttons.css" />
    <link rel="stylesheet" href="css/fonts.css" />
    <link rel="stylesheet" href="css/my-dropper-style.css" />
    <link rel="shortcut icon" href="/favicon.ico?v=2" />


    <title>Tecnicos</title>
</head>
<body class="">


    <div class="fixed-button">
        <p id="close">Cerrar sesión</p>
    </div>

    <div class="nav-side-menu">
        <div class="brand" id="saludo"></div>
        <i class="fa fa-bars fa-2x toggle-btn" data-toggle="collapse" data-target="#menu-content"></i>

            <div class="menu-list">

                <ul id="menu-content" class="menu-content collapse out">

                    <li  data-toggle="collapse" data-target="#options" class="collapsed active">
                      <a href="#"><i class="fa fa-folder fa-lg"></i> Reportes <span class="arrow"></span></a>
                    </li>
                    <ul class="sub-menu collapse" id="options">
                        <li id="gen-report"><a href="#">Agregar servicios</a></li>
                        <li id="show-reports"><a href="#">Crear reporte</a></li>
                        <li id="checked-reports" class="view-checked-reports"><a href="#">Reportes anteriores</a></li>
                        <li id="rejected-services"><a href="#">Servicios rechazados (<span id="no-rechazados">0</span>)</a></li>
                    </ul>
                     <li id="check-tarifas">
                      <a href="#">
                      <i class="fa fa-flag fa-lg"></i> Ver tarifas
                      </a>
                    </li>
                </ul>
         </div>
    </div>


    <div class="panel">
       <div class="row panel-title">
            PANEL DE TÉCNICO
        </div>


        <div class="mid-panel bg-samsung">
        </div>

        <!-- AGREGAR SERVICIOS -->
        <div class="mid-panel" hidden="hidden" id="gen-report-panel">

            <div class="row row-report">
                <div class="centered-block title">Agregar servicios</div>
            </div>

            <div class="row row-report">
                <div class="section-reg col-md-12">
                    <div class="centered-block">
                        <input type="text" placeholder="Folio" class="main-input report-input-2" id="folio"/>
                        <button class="btn btn-sm btn-check" id="checkFolio">Revisar</button>
                        <img src="imgs/loading.gif" class="loading-icon" alt="Cargando..." hidden="hidden" id="loading-icon"/>
                        <img src="imgs/ok.png" class="loading-icon" alt="OK" hidden="hidden" id="check-ok"/>
                    </div>
                </div>
            </div>
            <div class="row row-report">
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">M. de obra:</label>
                        <input type="text" class="report-input" id="mo-1"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">SEM:</label>
                        <input disabled="disabled" type="text" class="report-input" id="sem"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">Modelo:</label>
                        <input type="text" disabled="disabled" class="report-input" id="mod"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">Serie:</label>
                        <input type="text" disabled="disabled" class="report-input" id="serie"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">Casetas:</label>
                        <input type="text" class="report-input" id="cas-1"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">Desp. :</label>
                        <input type="text" class="report-input" id="des-1"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">Partes:</label>
                        <input type="text" class="report-input" id="iva-1"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">Cobro:</label>
                        <input type="text" class="report-input" id="cobro-1"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="cargo-svc">Cargo:</label>
                        <div class="row centered-block checkbox-block">
                            <input type="checkbox" class="checkbox-md" id="check-cargo" disabled="disabled"/>
                        </div>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="gar">Garantía:</label>
                        <div class="row centered-block checkbox-block">
                            <input type="checkbox" class="checkbox-md" id="check-gar" />
                        </div>
                    </div>
                </div>
            </div>

                    <div class="centered-block button-quarter">
                        <button class="btn btn-md btn-block btn-common" id="add-svc" disabled="disabled">Agregar servicio</button>
                    </div>

        </div>

        <!-- Ver reportes -->
        <div class="mid-panel" hidden="hidden" id="view-reports-panel">
            <div class="row row-report">
                <div class="centered-block title">Generar reporte <img src="imgs/refresh.png" alt="Actualizar datos" class="table-icon" onclick="getServices()">
                </div>
            </div>
            <div class="row row-report">
                <div class="col-md-3">
                    <div class="row block-title-reg centered-block">
                        <span >ID Técnico</span>
                    </div>
                    <div class="row block-title-reg centered-block">
                        <span id="id-tecnico"></span>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="row block-title-reg centered-block">
                        <span>Tipo de reporte</span>
                    </div>
                    <div class="row centered-block">
                        <select name="tipo" id="tipo-reporte">
                            <option value="null" selected="selected" hidden="hidden">Escoge una opción</option>
                            <option value="E">Electrónica</option>
                            <option value="LB">Línea Blanca</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="row block-title-reg centered-block">
                        <span>Fecha</span>
                    </div>
                    <div class="row">
                        <input type="text" id="fecha" class="fecha" data-lang="es" data-large-default="true" data-large-mode="true" data-theme="my-style"/>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="row block-title-reg centered-block">
                        <span>Semana</span>
                    </div>
                    <div class="row centered-block">
                        <p id="num_semana"></p>
                    </div>
                </div>
            </div>
            <div class="row row-report">
                <div class="col-md-4 col-md-offset-8">
                    <button class="btn btn-md btn-common" id="calc-mo">Calcular mano de obra</button>
                </div>
            </div>
            <div class="row row-report">
                <div class="row subsection-title centered-block">
                    <span>Servicios de cargo (39.14%)</span>
                </div>
                <table id="report-table-c" class="centered-block">
                </table>

                <div class="row spaced">
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total M.O:</p>
                            <p class="data" id="total-mo-c"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total casetas:</p>
                            <p class="data" id="total-cas-c"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total desplazamiento:</p>
                            <p class="data" id="total-desp-c"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Subtotal:</p>
                            <p class="data" id="total-sub-c"></p>
                        </div>
                        <div class="row centered-block">
                            <p class="block-title-reg">IVA (16%):</p>
                            <p class="data" id="total-iva-c"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block all-bordered">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total labor:</p>
                            <p class="data" id="total-labor-c"></p>
                        </div>
                    </div>
                </div>

                <div class="row subsection-title centered-block">
                    <span>Servicios In Home (50%)</span>
                </div>
                <table id="report-table-ih" class="centered-block">
                </table>
                <div class="row spaced">
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total M.O:</p>
                            <p class="data" id="total-mo-ih"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total casetas:</p>
                            <p class="data" id="total-cas-ih"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total desplazamiento:</p>
                            <p class="data" id="total-desp-ih"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Subtotal:</p>
                            <p class="data" id="total-sub-ih"></p>
                        </div>
                        <div class="row centered-block">
                            <p class="block-title-reg">IVA (16%):</p>
                            <p class="data" id="total-iva-ih"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block all-bordered">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total labor:</p>
                            <p class="data" id="total-labor-ih"></p>
                        </div>
                    </div>
                </div>
                <div class="row spaced">
                    <div class="col-md-3 col-md-offset-8 data-block all-bordered">
                        <div class="row centered-block">
                            <p class="block-title-reg">COBRO TOTAL POR REPORTE:</p>
                            <p class="data" id="total-rep"></p>
                        </div>
                    </div>
                </div>

                <button class="btn-gen-report btn-common" id="generate-report">Generar reporte</button>
            </div>
        </div>

        <div class="mid-panel" hidden="hidden" id="last-reports-panel">

            <div class="row row-report">
                <div class="centered-block title">Reportes anteriores</div>
            </div>

            <div class="row row-report">
                <table id="prev-reports-table" class="centered-block"></table>
            </div>
        </div>
        <!-- DESCRIBE REPORTE -->
        <div class="mid-panel" hidden="hidden" id="desc-report">
            <img src="imgs/return.png" alt="Regresar" class="view-checked-reports return-icon">
            <div class="row row-report">
                <div class="centered-block title">Reporte <span id="no-reporte"></span></div>
            </div>
            <div class="row row-report">
                <div class="row subsection-title centered-block">
                    <span>Servicios de cargo (39.14%)</span>
                </div>
                <table id="desc-report-table-c" class="centered-block">
                </table>

                <div class="row spaced">
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total M.O:</p>
                            <p class="data" id="desc-total-mo-c"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total casetas:</p>
                            <p class="data" id="desc-total-cas-c"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total desplazamiento:</p>
                            <p class="data" id="desc-total-desp-c"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Subtotal:</p>
                            <p class="data" id="desc-total-sub-c"></p>
                        </div>
                        <div class="row centered-block">
                            <p class="block-title-reg">IVA (16%):</p>
                            <p class="data" id="desc-total-iva-c"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block all-bordered">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total labor:</p>
                            <p class="data" id="desc-total-labor-c"></p>
                        </div>
                    </div>
                </div>

                <div class="row subsection-title centered-block">
                    <span>Servicios In Home (50%)</span>
                </div>
                <table id="desc-report-table-ih" class="centered-block">
                </table>
                <div class="row spaced">
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total M.O:</p>
                            <p class="data" id="desc-total-mo-ih"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total casetas:</p>
                            <p class="data" id="desc-total-cas-ih"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total desplazamiento:</p>
                            <p class="data" id="desc-total-desp-ih"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block">
                        <div class="row centered-block">
                            <p class="block-title-reg">Subtotal:</p>
                            <p class="data" id="desc-total-sub-ih"></p>
                        </div>
                        <div class="row centered-block">
                            <p class="block-title-reg">IVA (16%):</p>
                            <p class="data" id="desc-total-iva-ih"></p>
                        </div>
                    </div>
                    <div class="col-md-2 data-block all-bordered">
                        <div class="row centered-block">
                            <p class="block-title-reg">Total labor:</p>
                            <p class="data" id="desc-total-labor-ih"></p>
                        </div>
                    </div>
                </div>
                <div class="row spaced">
                    <div class="col-md-3 col-md-offset-8 data-block all-bordered">
                        <div class="row centered-block">
                            <p class="block-title-reg">COBRO TOTAL POR REPORTE:</p>
                            <p class="data" id="desc-total-rep"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MUESTRA SERVICIOS RECHAZADOS -->
        <div class="mid-panel" hidden="hidden" id="rej-services-panel">
            <div class="row row-report">
                <div class="centered-block title">Servicios rechazados</div>
            </div>
            <div class="row row-report">
                <table id="rej-svc-table" class="centered-block"></table>
            </div>
        </div>
    </div>




    <div id="tarifas-block" hidden="hidden">
        <div id="close-tarifas"><img src="imgs/delete.png" class="table-icon" alt="Cerrar popup"></div>
        <div class="row centered-block popup-panel">
           <span class="title centered-block">Tarifas</span>
           <table id="tarifas-table" class="centered-block"></table>
        </div>

    </div>
    <div class="layer" id="popup-layer" hidden="hidden"></div>
</body>
</html>
