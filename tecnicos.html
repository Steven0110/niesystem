<!DOCTYPE html>
<html lang="en">
<head profile="http://www.w3.org/2005/10/profile">
    <meta charset="UTF-8">

    <!-- Tools and plugins -->

    <!-- JQuery -->
    <script src="plugins/jquery-3.1.1.min.js"></script>
    <script src="plugins/jquery-cookie/jquery.cookie.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="plugins/bootstrap/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="plugins/bootstrap/css/bootstrap.min.css">
    <script src="plugins/bootstrap/js/bootstrap.min.js"></script>

    <!-- Date Dropper -->
    <link rel="stylesheet" href="plugins/datedropper/datedropper.min.css">
    <script src="plugins/datedropper/datedropper.min.js"></script>

    <!-- Sweet Alert -->
    <link rel="stylesheet" href="plugins/sweetalert/sweetalert.css">
    <script src="plugins/sweetalert/sweetalert.min.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="plugins/font-awesome/css/font-awesome.min.css">

    <!-- Custom files -->
    <script src="js/tec-controller.js"></script>
    <link rel="stylesheet" href="css/snippets.css" />
    <link rel="stylesheet" href="css/blocks.css" />
    <link rel="stylesheet" href="css/buttons.css" />
    <link rel="stylesheet" href="css/fonts.css" />
    <link rel="stylesheet" href="css/my-dropper-style.css" />
    <link rel="shortcut icon" href="/favicon.ico?v=2" />

    <title>Tecnicos</title>
</head>
<body class="">
    <div class="fixed-button">
        <p id="close">Cerrar sesión</p>
    </div>
    <div class="nav-side-menu">
        <div class="brand" id="saludo"></div>
        <i class="fa fa-bars fa-2x toggle-btn" data-toggle="collapse" data-target="#menu-content"></i>
            <div class="menu-list">
                <ul id="menu-content" class="menu-content collapse out">
                    <li  data-toggle="collapse" data-target="#options" class="collapsed active">
                      <a href="#"><i class="fa fa-folder fa-lg"></i> Reportes <span class="arrow"></span></a>
                    </li>
                    <ul class="sub-menu collapse" id="options">
                        <li id="gen-report"><a href="#">Agregar servicios</a></li>
                        <li id="show-reports"><a href="#">Crear reporte</a></li>
                        <li id="upload-report"><a href="#">Subir reporte</a></li>
                        <li id="checked-reports" class="view-checked-reports"><a href="#">Reportes anteriores</a></li>
                        <li id="rejected-services"><a href="#">Servicios rechazados (<span id="no-rechazados">0</span>)</a></li>
                    </ul>
                     <li id="check-tarifas">
                      <a href="#">
                      <i class="fa fa-flag fa-lg"></i> Ver tarifas
                      </a>
                    </li>
                     <li id="contact">
                      <a href="#">
                      <i class="fa fa-envelope fa-lg"></i> Contacto
                      </a>
                    </li>
                </ul>
         </div>
    </div>
    <div class="panel">
       <div class="row panel-title">
            PANEL DE TÉCNICO
        </div>
        <div class="mid-panel bg-samsung">
        </div>
        <!-- AGREGAR SERVICIOS -->
        <div class="mid-panel" hidden="hidden" id="gen-report-panel">
            <div class="row row-report">
                <div class="centered-block title">Agregar servicios</div>
            </div>
            <div class="row row-report">
                <div class="section-reg col-md-12">
                    <div class="centered-block">
                        <input type="text" placeholder="Folio" class="main-input report-input-2" id="folio"/>
                        <button class="btn btn-sm btn-check" id="checkFolio">Revisar</button>
                        <img src="imgs/loading.gif" class="loading-icon" alt="Cargando..." hidden="hidden" id="loading-icon"/>
                        <img src="imgs/ok.png" class="loading-icon" alt="OK" hidden="hidden" id="check-ok"/>
                    </div>
                </div>
            </div>
            <div class="row row-report">
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">M. de obra:</label>
                        <input type="text" class="report-input" id="mo-1"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">SEM:</label>
                        <input disabled="disabled" type="text" class="report-input" id="sem"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">Modelo:</label>
                        <input type="text" disabled="disabled" class="report-input" id="mod"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">Serie:</label>
                        <input type="text" disabled="disabled" class="report-input" id="serie"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">Casetas:</label>
                        <input type="text" class="report-input" id="cas-1"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">Desp. :</label>
                        <input type="text" class="report-input" id="des-1"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">Partes:</label>
                        <input type="text" class="report-input" id="iva-1"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="mo-1">Cobro:</label>
                        <input type="text" class="report-input" id="cobro-1"/>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="cargo-svc">Cargo:</label>
                        <div class="row centered-block checkbox-block">
                            <input type="checkbox" class="checkbox-md" id="check-cargo" disabled="disabled"/>
                        </div>
                    </div>
                </div>
                <div class="section-reg col-md-2">
                    <div class="centered-block">
                        <label for="gar">Garantía:</label>
                        <div class="row centered-block checkbox-block">
                            <input type="checkbox" class="checkbox-md" id="check-gar" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="centered-block button-quarter">
                <button class="btn btn-md btn-block btn-common" id="add-svc" disabled="disabled">Agregar servicio</button>
            </div>
        </div>
        <!-- Ver reportes -->
        <div class="mid-panel" hidden="hidden" id="view-reports-panel">
            <div class="row row-report">
                <div class="centered-block title">Generar reporte <img src="imgs/refresh.png" alt="Actualizar datos" class="table-icon" onclick="getServices()">
                </div>
            </div>
            <div class="row row-report">
                <div class="col-md-3">
                    <div class="row block-title-reg centered-block">
                        <span >ID Técnico</span>
                    </div>
                    <div class="row block-title-reg centered-block">
                        <span id="id-tecnico"></span>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="row block-title-reg centered-block">
                        <span>Tipo de reporte</span>
                    </div>
                    <div class="row centered-block">
                        <select name="tipo" id="tipo-reporte">
                            <option value="null" selected="selected" hidden="hidden">Escoge una opción</option>
                            <option value="E">Electrónica</option>
                            <option value="LB">Línea Blanca</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="row block-title-reg centered-block">
                        <span>Fecha</span>
                    </div>
                    <div class="row">
                        <input type="text" id="fecha" class="fecha" data-lang="es" data-large-default="true" data-large-mode="true" data-theme="my-style"/>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="row block-title-reg centered-block">
                        <span>Semana</span>
                    </div>
                    <div class="row centered-block">
                        <p id="num_semana"></p>
                    </div>
                </div>
            </div>
            <div class="row row-report">
                <div class="col-md-4 col-md-offset-8">
                    <button class="btn btn-md btn-common" id="calc-mo">Calcular mano de obra</button>
                </div>
            </div>
            <div class="row row-report">
                <div class="row subsection-title centered-block">
                    <span>Servicios de cargo</span>
                </div>
                <table id="report-table-c" class="centered-block">
                </table>
                <div class="row subsection-title centered-block">
                    <span>Servicios de garantía</span>
                </div>
                <table id="report-table-ih" class="centered-block">
                </table>
                <div class="row spaced">
                   <table class="centered-block chart">
                       <thead>
                           <th>Mano de obra</th>
                           <th>Casetas</th>
                           <th>Desplazamiento</th>
                           <th>Subtotal</th>
                           <th>IVA</th>
                           <th>Total labor</th>
                       </thead>
                       <tr id="c-row" class="green-row">
                           <td rowspan="2" id="total-mo" class="share"></td>
                           <td rowspan="2" id="total-cas" class="share"></td>
                           <td rowspan="2" id="total-desp" class="share"></td>
                           <td id="sub-ih"></td>
                           <td id="iva-ih"></td>
                           <td id="labor-ih"></td>
                       </tr>
                       <tr id="ih-row" class="yellow-row">
                           <td id="sub-c"></td>
                           <td id="iva-c"></td>
                           <td id="labor-c"></td>
                       </tr>
                   </table>
                   <div class="centered-block blackened">
                       <div class="row"><div class="green-dot"></div> In Home (50%)</div>
                       <div class="row"><div class="yellow-dot"></div> Taller (39.14%)</div>
                   </div>
                </div>
                <button class="btn-gen-report btn-common" id="generate-report">Generar reporte</button>
            </div>
        </div>
        <div class="mid-panel" hidden="hidden" id="last-reports-panel">
            <div class="row row-report">
                <div class="centered-block title">Reportes anteriores</div>
            </div>
            <div class="row row-report">
                <table id="prev-reports-table" class="centered-block"></table>
            </div>
        </div>
        <!-- DESCRIBE REPORTE -->
        <div class="mid-panel" hidden="hidden" id="desc-report">
            <img src="imgs/return.png" alt="Regresar" class="view-checked-reports return-icon">
            <div class="row row-report">
                <div class="centered-block title">Reporte <span id="no-reporte"></span></div>
            </div>
            <div class="row row-report">
                <div class="row subsection-title centered-block">
                    <span>Servicios de cargo</span>
                </div>
                <table id="desc-report-table-c" class="centered-block">
                </table>
                <div class="row subsection-title centered-block">
                    <span>Servicios In Home</span>
                </div>
                <table id="desc-report-table-ih" class="centered-block">
                </table>
                
                <div class="row spaced">
                   <table class="centered-block chart">
                       <thead>
                           <th>Mano de obra</th>
                           <th>Casetas</th>
                           <th>Desplazamiento</th>
                           <th>Subtotal</th>
                           <th>IVA</th>
                           <th>Total labor</th>
                       </thead>
                       <tr id="c-row" class="green-row">
                           <td rowspan="2" id="desc-total-mo" class="share"></td>
                           <td rowspan="2" id="desc-total-cas" class="share"></td>
                           <td rowspan="2" id="desc-total-desp" class="share"></td>
                           <td id="desc-sub-ih"></td>
                           <td id="desc-iva-ih"></td>
                           <td id="desc-labor-ih"></td>
                       </tr>
                       <tr id="ih-row" class="yellow-row">
                           <td id="desc-sub-c"></td>
                           <td id="desc-iva-c"></td>
                           <td id="desc-labor-c"></td>
                       </tr>
                   </table>
                   <div class="centered-block blackened">
                       <div class="row"><div class="green-dot"></div> In Home (50%)</div>
                       <div class="row"><div class="yellow-dot"></div> Taller (39.14%)</div>
                   </div>
                </div>
            </div>
        </div>
        <!-- MUESTRA SERVICIOS RECHAZADOS -->
        <div class="mid-panel" hidden="hidden" id="rej-services-panel">
            <div class="row row-report">
                <div class="centered-block title">Servicios rechazados</div>
            </div>
            <div class="row row-report">
                <table id="rej-svc-table" class="centered-block"></table>
            </div>
        </div>
        <div class="mid-panel" hidden="hidden" id="upload-report-panel">
            <div class="row row-report">
                <div class="centered-block title">Subir reporte (hoja de cálculo)</div>
            </div>
            <div class="row row-report">
                <div class="centered-block">
                    <div class="row field">
                        <div class="row subsection-title centered-block">
                            <span>Selecciona un tipo de reporte</span>
                        </div>
                        <select class="select centered-block" name="r_type" id="r_type">
                            <option value="NONE" selected="selected" hidden="hidden">
                                Tipo
                            </option>
                            <option value="2">Electrónica CI</option>
                            <option value="5">Electrónica IH</option>
                            <option value="2">Linea Blanca</option>
                        </select>
                    </div>
                    
                   <form enctype="multipart/form-data" id="form-imp">
                        <input id="r_file" type="file" class="file-input" placeholder="Selecciona un archivo XLSX"/>
                        <button id="upload-rep-btn" class="btn btn-lg btn-common centered-block">Subir <i class="fa fa-upload fa-lg"></i></button>
                        <div class="row">
                            <div class="centered-block">
                                <img src="imgs/loading.gif" class="loading-icon" alt="Cargando..." hidden="hidden" id="loading-icon-rep"/>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div id="tarifas-block" class="popup-md" hidden="hidden">
        <div id="close-tarifas"><img src="imgs/delete.png" class="table-icon closer" alt="Cerrar popup"></div>
        <div class="row centered-block popup-panel">
           <span class="title centered-block">Tarifas</span>
           <table id="tarifas-table" class="centered-block"></table>
        </div>
    </div>
    <div id="contact-block" class="popup-sm" hidden="hidden">
        <div id="close-contact"><img src="imgs/delete.png" class="table-icon closer" alt="Cerrar popup"></div>
        <div class="row centered-block popup-panel">
            <span class="description centered-block">Describe el problema con todos los detalles (folio, no. de reporte o técnico con el que surgio el problema, qué fue lo que hizo con exactitud, archivo que usó para actualizar la base de datos, etc.)</span>
           <div class="centered-block">
               <textarea name="problem" id="problem" cols="80" rows="5"></textarea>
               <button id="send-msg-btn" class="btn btn-lg btn-common centered-block">Enviar <i class="fa fa-upload fa-lg"></i></button>
           </div>
        </div>
    </div>
    <div class="layer" id="popup-layer" hidden="hidden"></div>
</body>
</html>
